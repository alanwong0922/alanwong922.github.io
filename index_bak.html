<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>One Piece Photo Capture</title>
        <link rel="stylesheet" href="./media/css/main.css">
    </head>
    <body>
        
        <p id="page-title">One Piece</p>
        
        <button id="screenshotButton">
            <img src="./media/img/camera.png" />
        </button>
        <a-scene embedded arjs>
            <a-sphere position="0 1 -3" radius="1" color="#EF2D5E"></a-sphere>
            <a-box position="-1 0.5 -3" material="color: #4CC3D2"></a-box>
            <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65B"></a-cylinder>
            <a-entity id="rig" position="25 10 0">
                <a-entity id="camera" camera look-controls position="0 1.6 0"></a-entity>
            </a-entity>
            <video id="video" autoplay playsinline></video>
        </a-scene>


    </body>
    <footer>
        <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
        <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
        <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
        <!-- <script src="./media/js/main.js"></script> -->
        <script>
            document.getElementById('screenshotButton').addEventListener('click', function() {
            console.log("screenshot button event - log");
            this.classList.toggle('clicked'); // Toggle the 'clicked' class

            html2canvas(document.querySelector('body')).then(canvas => {
                const imageData = canvas.toDataURL('image/png');
                const link = document.createElement('a');
                link.href = imageData;
                link.download = 'screenshot.png';
                link.click();
                console.log(link);
            }).catch (error => {
                console.log("Error taking screenshot: ", error);
            });
        });
        </script>
    </footer>
</html>